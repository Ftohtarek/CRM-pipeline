"use strict";(self.webpackChunkCRM_App=self.webpackChunkCRM_App||[]).push([[315],{1315:(Kn,Ot,m)=>{m.r(Ot),m.d(Ot,{SalesModule:()=>Wn});var r=m(1571),_=m(6895);function M(n){return null!=n&&"false"!=`${n}`}function At(n,e=0){return function ze(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function st(n){return Array.isArray(n)?n:[n]}function g(n){return n instanceof r.SBq?n.nativeElement:n}var h=m(7579),Ve=m(9646),I=m(9751),ct=m(8421),je=m(5577),Ue=m(1144),w=m(576),Ze=m(3268);const He=["addListener","removeListener"],Ge=["addEventListener","removeEventListener"],Ye=["on","off"];function dt(n,e,t,i){if((0,w.m)(t)&&(i=t,t=void 0),i)return dt(n,e,t).pipe((0,Ze.Z)(i));const[o,a]=function $e(n){return(0,w.m)(n.addEventListener)&&(0,w.m)(n.removeEventListener)}(n)?Ge.map(s=>c=>n[s](e,c,t)):function We(n){return(0,w.m)(n.addListener)&&(0,w.m)(n.removeListener)}(n)?He.map(kt(n,e)):function Ke(n){return(0,w.m)(n.on)&&(0,w.m)(n.off)}(n)?Ye.map(kt(n,e)):[];if(!o&&(0,Ue.z)(n))return(0,je.z)(s=>dt(s,e,t))((0,ct.Xf)(n));if(!o)throw new TypeError("Invalid event target");return new I.y(s=>{const c=(...d)=>s.next(1<d.length?d:d[0]);return o(c),()=>a(c)})}function kt(n,e){return t=>i=>n[t](e,i)}var C=m(727);class qe extends C.w0{constructor(e,t){super()}schedule(e,t=0){return this}}const G={setInterval(n,e,...t){const{delegate:i}=G;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=G;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Qe=m(8737);class lt extends qe{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;const o=this.id,a=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(a,o,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(a,this.id,t),this}requestAsyncId(e,t,i=0){return G.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&G.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let o,i=!1;try{this.work(e)}catch(a){i=!0,o=a||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Qe.P)(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const k={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=k;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const o=e(a=>{t=void 0,n(a)});return new C.w0(()=>t?.(o))},requestAnimationFrame(...n){const{delegate:e}=k;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=k;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0},Pt={now:()=>(Pt.delegate||Date).now(),delegate:void 0};class P{constructor(e,t=P.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}P.now=Pt.now;class ut extends P{constructor(e,t=P.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const Ft=new class Je extends ut{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let o;e=e||i.shift();do{if(o=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,o){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw o}}}(class Xe extends lt{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=k.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var o;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:a}=e;null!=t&&(null===(o=a[a.length-1])||void 0===o?void 0:o.id)!==t&&(k.cancelAnimationFrame(t),e._scheduled=void 0)}});let mt,ti=1;const Y={};function Lt(n){return n in Y&&(delete Y[n],!0)}const ei={setImmediate(n){const e=ti++;return Y[e]=!0,mt||(mt=Promise.resolve()),mt.then(()=>Lt(e)&&n()),e},clearImmediate(n){Lt(n)}},{setImmediate:ii,clearImmediate:ni}=ei,W={setImmediate(...n){const{delegate:e}=W;return(e?.setImmediate||ii)(...n)},clearImmediate(n){const{delegate:e}=W;return(e?.clearImmediate||ni)(n)},delegate:void 0},K=(new class ri extends ut{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let o;e=e||i.shift();do{if(o=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,o){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw o}}}(class oi extends lt{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=W.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var o;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:a}=e;null!=t&&(null===(o=a[a.length-1])||void 0===o?void 0:o.id)!==t&&(W.clearImmediate(t),e._scheduled=void 0)}}),new ut(lt)),si=K;var ht=m(4482),$=m(5403),di=m(3532);function Nt(n=0,e,t=si){let i=-1;return null!=e&&((0,di.K)(e)?t=e:i=e),new I.y(o=>{let a=function li(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let s=0;return t.schedule(function(){o.closed||(o.next(s++),0<=i?this.schedule(void 0,i):o.complete())},a)})}function Bt(n,e=K){return function ci(n){return(0,ht.e)((e,t)=>{let i=!1,o=null,a=null,s=!1;const c=()=>{if(a?.unsubscribe(),a=null,i){i=!1;const l=o;o=null,t.next(l)}s&&t.complete()},d=()=>{a=null,s&&t.complete()};e.subscribe((0,$.x)(t,l=>{i=!0,o=l,a||(0,ct.Xf)(n(l)).subscribe(a=(0,$.x)(t,c,d))},()=>{s=!0,(!i||!a||a.closed)&&t.complete()}))})}(()=>Nt(n,e))}var zt=m(9300);let pt;try{pt=typeof Intl<"u"&&Intl.v8BreakIterator}catch{pt=!1}let F,ft,q=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?(0,_.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!pt)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(r.Lbi))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function E(n){return function ui(){if(null==F&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>F=!0}))}finally{F=F||!1}return F}()?n:!!n.capture}function jt(n){if(function mi(){if(null==ft){const n=typeof document<"u"?document.head:null;ft=!(!n||!n.createShadowRoot&&!n.attachShadow)}return ft}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function L(n){return n.composedPath?n.composedPath()[0]:n.target}let fi=(()=>{class n{constructor(t,i,o){this._ngZone=t,this._platform=i,this._scrolled=new h.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new I.y(i=>{this._globalSubscription||this._addGlobalListener();const o=t>0?this._scrolled.pipe(Bt(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Ve.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const o=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe((0,zt.h)(a=>!a||o.indexOf(a)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((o,a)=>{this._scrollableContainsElement(a,t)&&i.push(a)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let o=g(i),a=t.getElementRef().nativeElement;do{if(o==a)return!0}while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>dt(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(r.R0b),r.LFG(q),r.LFG(_.K0,8))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_i=(()=>{class n{constructor(t,i,o){this._platform=t,this._change=new h.x,this._changeListener=a=>{this._change.next(a)},this._document=o,i.runOutsideAngular(()=>{if(t.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:o}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+o,right:t.left+i,height:o,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),o=t.documentElement,a=o.getBoundingClientRect();return{top:-a.top||t.body.scrollTop||i.scrollY||o.scrollTop||0,left:-a.left||t.body.scrollLeft||i.scrollX||o.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(Bt(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(q),r.LFG(r.R0b),r.LFG(_.K0,8))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})();var wi=m(1577),Ci=m(7272),gt=m(5698),X=m(4004),J=m(8675),Ii=m(5032);function N(n){return(0,ht.e)((e,t)=>{(0,ct.Xf)(n).subscribe((0,$.x)(t,()=>t.complete(),Ii.Z)),!t.closed&&e.subscribe(t)})}const Ut=new Set;let R,Ti=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Oi}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function Ri(n){if(!Ut.has(n))try{R||(R=document.createElement("style"),R.setAttribute("type","text/css"),document.head.appendChild(R)),R.sheet&&(R.sheet.insertRule(`@media ${n} {body{ }}`,0),Ut.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(q))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Oi(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let Ai=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new h.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return Zt(st(t)).some(o=>this._registerQuery(o).mql.matches)}observe(t){const o=Zt(st(t)).map(s=>this._registerQuery(s).observable);let a=(0,wi.a)(o);return a=(0,Ci.z)(a.pipe((0,gt.q)(1)),a.pipe(function Ei(n){return(0,zt.h)((e,t)=>n<=t)}(1),function Si(n,e=K){return(0,ht.e)((t,i)=>{let o=null,a=null,s=null;const c=()=>{if(o){o.unsubscribe(),o=null;const l=a;a=null,i.next(l)}};function d(){const l=s+n,u=e.now();if(u<l)return o=this.schedule(void 0,l-u),void i.add(o);c()}t.subscribe((0,$.x)(i,l=>{a=l,s=e.now(),o||(o=e.schedule(d,n),i.add(o))},()=>{c(),i.complete()},void 0,()=>{a=o=null}))})}(0))),a.pipe((0,X.U)(s=>{const c={matches:!1,breakpoints:{}};return s.forEach(({matches:d,query:l})=>{c.matches=c.matches||d,c.breakpoints[l]=d}),c}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),a={observable:new I.y(s=>{const c=d=>this._zone.run(()=>s.next(d));return i.addListener(c),()=>{i.removeListener(c)}}).pipe((0,J.O)(i),(0,X.U)(({matches:s})=>({query:t,matches:s})),N(this._destroySubject)),mql:i};return this._queries.set(t,a),a}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(Ti),r.LFG(r.R0b))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Zt(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function Wt(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function Kt(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const $t="cdk-high-contrast-black-on-white",qt="cdk-high-contrast-white-on-black",_t="cdk-high-contrast-active";let ji=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=(0,r.f3M)(Ai).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,o=i&&i.getComputedStyle?i.getComputedStyle(t):null,a=(o&&o.backgroundColor||"").replace(/ /g,"");switch(t.remove(),a){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(_t,$t,qt),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(_t,$t):2===i&&t.add(_t,qt)}}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(q),r.LFG(_.K0))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var bt=m(6451),Zi=m(8505),Hi=m(3900);const Gi=new r.OlP("cdk-dir-doc",{providedIn:"root",factory:function Yi(){return(0,r.f3M)(_.K0)}}),Wi=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Qt=(()=>{class n{constructor(t){this.value="ltr",this.change=new r.vpe,t&&(this.value=function Ki(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?Wi.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(Gi,8))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Xt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})();function vt(n,e,t){for(let i in e)if(e.hasOwnProperty(i)){const o=e[i];o?n.setProperty(i,o,t?.has(i)?"important":""):n.removeProperty(i)}return n}function O(n,e){const t=e?"":"none";vt(n.style,{"touch-action":e?"":"none","-webkit-user-drag":e?"":"none","-webkit-tap-highlight-color":e?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function Jt(n,e,t){vt(n.style,{position:e?"":"fixed",top:e?"":"0",opacity:e?"":"0",left:e?"":"-999em"},t)}function tt(n,e){return e&&"none"!=e?n+" "+e:n}function te(n){const e=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*e}function xt(n,e){return n.getPropertyValue(e).split(",").map(i=>i.trim())}function yt(n){const e=n.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height,x:e.x,y:e.y}}function Dt(n,e,t){const{top:i,bottom:o,left:a,right:s}=n;return t>=i&&t<=o&&e>=a&&e<=s}function B(n,e,t){n.top+=e,n.bottom=n.top+n.height,n.left+=t,n.right=n.left+n.width}function ee(n,e,t,i){const{top:o,right:a,bottom:s,left:c,width:d,height:l}=n,u=d*e,p=l*e;return i>o-p&&i<s+p&&t>c-u&&t<a+u}class ie{constructor(e){this._document=e,this.positions=new Map}clear(){this.positions.clear()}cache(e){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),e.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:yt(t)})})}handleScroll(e){const t=L(e),i=this.positions.get(t);if(!i)return null;const o=i.scrollPosition;let a,s;if(t===this._document){const l=this.getViewportScrollPosition();a=l.top,s=l.left}else a=t.scrollTop,s=t.scrollLeft;const c=o.top-a,d=o.left-s;return this.positions.forEach((l,u)=>{l.clientRect&&t!==u&&t.contains(u)&&B(l.clientRect,c,d)}),o.top=a,o.left=s,{top:c,left:d}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function ne(n){const e=n.cloneNode(!0),t=e.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();e.removeAttribute("id");for(let o=0;o<t.length;o++)t[o].removeAttribute("id");return"canvas"===i?ae(n,e):("input"===i||"select"===i||"textarea"===i)&&re(n,e),oe("canvas",n,e,ae),oe("input, textarea, select",n,e,re),e}function oe(n,e,t,i){const o=e.querySelectorAll(n);if(o.length){const a=t.querySelectorAll(n);for(let s=0;s<o.length;s++)i(o[s],a[s])}}let qi=0;function re(n,e){"file"!==e.type&&(e.value=n.value),"radio"===e.type&&e.name&&(e.name=`mat-clone-${e.name}-${qi++}`)}function ae(n,e){const t=e.getContext("2d");if(t)try{t.drawImage(n,0,0)}catch{}}const se=E({passive:!0}),et=E({passive:!1}),Mt=new Set(["position"]);class Xi{get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(e){const t=M(e);t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(i=>O(i,t)))}constructor(e,t,i,o,a,s){this._config=t,this._document=i,this._ngZone=o,this._viewportRuler=a,this._dragDropRegistry=s,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new h.x,this._pointerMoveSubscription=C.w0.EMPTY,this._pointerUpSubscription=C.w0.EMPTY,this._scrollSubscription=C.w0.EMPTY,this._resizeSubscription=C.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new h.x,this.started=new h.x,this.released=new h.x,this.ended=new h.x,this.entered=new h.x,this.exited=new h.x,this.dropped=new h.x,this.moved=this._moveEvents,this._pointerDown=c=>{if(this.beforeStarted.next(),this._handles.length){const d=this._getTargetHandle(c);d&&!this._disabledHandles.has(d)&&!this.disabled&&this._initializeDragSequence(d,c)}else this.disabled||this._initializeDragSequence(this._rootElement,c)},this._pointerMove=c=>{const d=this._getPointerPositionOnPage(c);if(!this._hasStartedDragging){if(Math.abs(d.x-this._pickupPositionOnPage.x)+Math.abs(d.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const D=Date.now()>=this._dragStartTime+this._getDragStartDelay(c),y=this._dropContainer;if(!D)return void this._endDragSequence(c);(!y||!y.isDragging()&&!y.isReceiving())&&(c.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(c)))}return}c.preventDefault();const l=this._getConstrainedPointerPosition(d);if(this._hasMoved=!0,this._lastKnownPointerPosition=d,this._updatePointerDirectionDelta(l),this._dropContainer)this._updateActiveDropContainer(l,d);else{const u=this.constrainPosition?this._initialClientRect:this._pickupPositionOnPage,p=this._activeTransform;p.x=l.x-u.x+this._passiveTransform.x,p.y=l.y-u.y+this._passiveTransform.y,this._applyRootElementTransform(p.x,p.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:l,event:c,distance:this._getDragDistance(l),delta:this._pointerDirectionDelta})})},this._pointerUp=c=>{this._endDragSequence(c)},this._nativeDragStart=c=>{if(this._handles.length){const d=this._getTargetHandle(c);d&&!this._disabledHandles.has(d)&&!this.disabled&&c.preventDefault()}else this.disabled||c.preventDefault()},this.withRootElement(e).withParent(t.parentDragRef||null),this._parentPositions=new ie(i),s.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(e){this._handles=e.map(i=>g(i)),this._handles.forEach(i=>O(i,this.disabled)),this._toggleNativeDragInteractions();const t=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&t.add(i)}),this._disabledHandles=t,this}withPreviewTemplate(e){return this._previewTemplate=e,this}withPlaceholderTemplate(e){return this._placeholderTemplate=e,this}withRootElement(e){const t=g(e);return t!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{t.addEventListener("mousedown",this._pointerDown,et),t.addEventListener("touchstart",this._pointerDown,se),t.addEventListener("dragstart",this._nativeDragStart,et)}),this._initialTransform=void 0,this._rootElement=t),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(e){return this._boundaryElement=e?g(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(e){return this._parentDragRef=e,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(e){!this._disabledHandles.has(e)&&this._handles.indexOf(e)>-1&&(this._disabledHandles.add(e),O(e,!0))}enableHandle(e){this._disabledHandles.has(e)&&(this._disabledHandles.delete(e),O(e,this.disabled))}withDirection(e){return this._direction=e,this}_withDropContainer(e){this._dropContainer=e}getFreeDragPosition(){const e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}setFreeDragPosition(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}withPreviewContainer(e){return this._previewContainer=e,this}_sortFromLastPointerPosition(){const e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(e){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:e}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(e),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const t=this._getPointerPositionOnPage(e);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t,event:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(e){z(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const t=this._dropContainer;if(t){const i=this._rootElement,o=i.parentNode,a=this._placeholder=this._createPlaceholderElement(),s=this._anchor=this._anchor||this._document.createComment(""),c=this._getShadowRoot();o.insertBefore(s,i),this._initialTransform=i.style.transform||"",this._preview=this._createPreviewElement(),Jt(i,!1,Mt),this._document.body.appendChild(o.replaceChild(a,i)),this._getPreviewInsertionPoint(o,c).appendChild(this._preview),this.started.next({source:this,event:e}),t.start(),this._initialContainer=t,this._initialIndex=t.getItemIndex(this)}else this.started.next({source:this,event:e}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(t?t.getScrollableParents():[])}_initializeDragSequence(e,t){this._parentDragRef&&t.stopPropagation();const i=this.isDragging(),o=z(t),a=!o&&0!==t.button,s=this._rootElement,c=L(t),d=!o&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),l=o?Kt(t):Wt(t);if(c&&c.draggable&&"mousedown"===t.type&&t.preventDefault(),i||a||d||l)return;if(this._handles.length){const v=s.style;this._rootElementTapHighlight=v.webkitTapHighlightColor||"",v.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(v=>this._updateOnScroll(v)),this._boundaryElement&&(this._boundaryRect=yt(this._boundaryElement));const u=this._previewTemplate;this._pickupPositionInElement=u&&u.template&&!u.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,e,t);const p=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:p.x,y:p.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(e){Jt(this._rootElement,!0,Mt),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const t=this._dropContainer,i=t.getItemIndex(this),o=this._getPointerPositionOnPage(e),a=this._getDragDistance(o),s=t._isOverContainer(o.x,o.y);this.ended.next({source:this,distance:a,dropPoint:o,event:e}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:s,distance:a,dropPoint:o,event:e}),t.drop(this,i,this._initialIndex,this._initialContainer,s,a,o,e),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:e,y:t},{x:i,y:o}){let a=this._initialContainer._getSiblingContainerFromPosition(this,e,t);!a&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(e,t)&&(a=this._initialContainer),a&&a!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=a,this._dropContainer.enter(this,e,t,a===this._initialContainer&&a.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:a,currentIndex:a.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,o),this._dropContainer._sortItem(this,e,t,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(e,t):this._applyPreviewTransform(e-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_createPreviewElement(){const e=this._previewTemplate,t=this.previewClass,i=e?e.template:null;let o;if(i&&e){const a=e.matchSize?this._initialClientRect:null,s=e.viewContainer.createEmbeddedView(i,e.context);s.detectChanges(),o=de(s,this._document),this._previewRef=s,e.matchSize?le(o,a):o.style.transform=it(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else o=ne(this._rootElement),le(o,this._initialClientRect),this._initialTransform&&(o.style.transform=this._initialTransform);return vt(o.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},Mt),O(o,!1),o.classList.add("cdk-drag-preview"),o.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(a=>o.classList.add(a)):o.classList.add(t)),o}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const e=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(e.left,e.top);const t=function $i(n){const e=getComputedStyle(n),t=xt(e,"transition-property"),i=t.find(c=>"transform"===c||"all"===c);if(!i)return 0;const o=t.indexOf(i),a=xt(e,"transition-duration"),s=xt(e,"transition-delay");return te(a[o])+te(s[o])}(this._preview);return 0===t?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{const o=s=>{(!s||L(s)===this._preview&&"transform"===s.propertyName)&&(this._preview?.removeEventListener("transitionend",o),i(),clearTimeout(a))},a=setTimeout(o,1.5*t);this._preview.addEventListener("transitionend",o)}))}_createPlaceholderElement(){const e=this._placeholderTemplate,t=e?e.template:null;let i;return t?(this._placeholderRef=e.viewContainer.createEmbeddedView(t,e.context),this._placeholderRef.detectChanges(),i=de(this._placeholderRef,this._document)):i=ne(this._rootElement),i.style.pointerEvents="none",i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(e,t,i){const o=t===this._rootElement?null:t,a=o?o.getBoundingClientRect():e,s=z(i)?i.targetTouches[0]:i,c=this._getViewportScrollPosition();return{x:a.left-e.left+(s.pageX-a.left-c.left),y:a.top-e.top+(s.pageY-a.top-c.top)}}_getPointerPositionOnPage(e){const t=this._getViewportScrollPosition(),i=z(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,o=i.pageX-t.left,a=i.pageY-t.top;if(this._ownerSVGElement){const s=this._ownerSVGElement.getScreenCTM();if(s){const c=this._ownerSVGElement.createSVGPoint();return c.x=o,c.y=a,c.matrixTransform(s.inverse())}}return{x:o,y:a}}_getConstrainedPointerPosition(e){const t=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:o}=this.constrainPosition?this.constrainPosition(e,this,this._initialClientRect,this._pickupPositionInElement):e;if("x"===this.lockAxis||"x"===t?o=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===t)&&(i=this._pickupPositionOnPage.x),this._boundaryRect){const{x:a,y:s}=this._pickupPositionInElement,c=this._boundaryRect,{width:d,height:l}=this._getPreviewRect(),u=c.top+s,p=c.bottom-(l-s);i=ce(i,c.left+a,c.right-(d-a)),o=ce(o,u,p)}return{x:i,y:o}}_updatePointerDirectionDelta(e){const{x:t,y:i}=e,o=this._pointerDirectionDelta,a=this._pointerPositionAtLastDirectionChange,s=Math.abs(t-a.x),c=Math.abs(i-a.y);return s>this._config.pointerDirectionChangeThreshold&&(o.x=t>a.x?1:-1,a.x=t),c>this._config.pointerDirectionChangeThreshold&&(o.y=i>a.y?1:-1,a.y=i),o}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,O(this._rootElement,e))}_removeRootElementListeners(e){e.removeEventListener("mousedown",this._pointerDown,et),e.removeEventListener("touchstart",this._pointerDown,se),e.removeEventListener("dragstart",this._nativeDragStart,et)}_applyRootElementTransform(e,t){const i=it(e,t),o=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=o.transform&&"none"!=o.transform?o.transform:""),o.transform=tt(i,this._initialTransform)}_applyPreviewTransform(e,t){const i=this._previewTemplate?.template?void 0:this._initialTransform,o=it(e,t);this._preview.style.transform=tt(o,i)}_getDragDistance(e){const t=this._pickupPositionOnPage;return t?{x:e.x-t.x,y:e.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:e,y:t}=this._passiveTransform;if(0===e&&0===t||this.isDragging()||!this._boundaryElement)return;const i=this._rootElement.getBoundingClientRect(),o=this._boundaryElement.getBoundingClientRect();if(0===o.width&&0===o.height||0===i.width&&0===i.height)return;const a=o.left-i.left,s=i.right-o.right,c=o.top-i.top,d=i.bottom-o.bottom;o.width>i.width?(a>0&&(e+=a),s>0&&(e-=s)):e=0,o.height>i.height?(c>0&&(t+=c),d>0&&(t-=d)):t=0,(e!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:e})}_getDragStartDelay(e){const t=this.dragStartDelay;return"number"==typeof t?t:z(e)?t.touch:t?t.mouse:0}_updateOnScroll(e){const t=this._parentPositions.handleScroll(e);if(t){const i=L(e);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&B(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=jt(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(e,t){const i=this._previewContainer||"global";if("parent"===i)return e;if("global"===i){const o=this._document;return t||o.fullscreenElement||o.webkitFullscreenElement||o.mozFullScreenElement||o.msFullscreenElement||o.body}return g(i)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect),this._previewRect}_getTargetHandle(e){return this._handles.find(t=>e.target&&(e.target===t||t.contains(e.target)))}}function it(n,e){return`translate3d(${Math.round(n)}px, ${Math.round(e)}px, 0)`}function ce(n,e,t){return Math.max(e,Math.min(t,n))}function z(n){return"t"===n.type[0]}function de(n,e){const t=n.rootNodes;if(1===t.length&&t[0].nodeType===e.ELEMENT_NODE)return t[0];const i=e.createElement("div");return t.forEach(o=>i.appendChild(o)),i}function le(n,e){n.style.width=`${e.width}px`,n.style.height=`${e.height}px`,n.style.transform=it(e.left,e.top)}function wt(n,e,t){const i=V(e,n.length-1),o=V(t,n.length-1);if(i===o)return;const a=n[i],s=o<i?-1:1;for(let c=i;c!==o;c+=s)n[c]=n[c+s];n[o]=a}function V(n,e){return Math.max(0,Math.min(e,n))}class tn{constructor(e,t){this._element=e,this._dragDropRegistry=t,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(e){this.withItems(e)}sort(e,t,i,o){const a=this._itemPositions,s=this._getItemIndexFromPointerPosition(e,t,i,o);if(-1===s&&a.length>0)return null;const c="horizontal"===this.orientation,d=a.findIndex(b=>b.drag===e),l=a[s],p=l.clientRect,v=d>s?1:-1,D=this._getItemOffsetPx(a[d].clientRect,p,v),y=this._getSiblingOffsetPx(d,a,v),x=a.slice();return wt(a,d,s),a.forEach((b,at)=>{if(x[at]===b)return;const H=b.drag===e,Rt=H?D:y,Be=H?e.getPlaceholderElement():b.drag.getRootElement();b.offset+=Rt,c?(Be.style.transform=tt(`translate3d(${Math.round(b.offset)}px, 0, 0)`,b.initialTransform),B(b.clientRect,0,Rt)):(Be.style.transform=tt(`translate3d(0, ${Math.round(b.offset)}px, 0)`,b.initialTransform),B(b.clientRect,Rt,0))}),this._previousSwap.overlaps=Dt(p,t,i),this._previousSwap.drag=l.drag,this._previousSwap.delta=c?o.x:o.y,{previousIndex:d,currentIndex:s}}enter(e,t,i,o){const a=null==o||o<0?this._getItemIndexFromPointerPosition(e,t,i):o,s=this._activeDraggables,c=s.indexOf(e),d=e.getPlaceholderElement();let l=s[a];if(l===e&&(l=s[a+1]),!l&&(null==a||-1===a||a<s.length-1)&&this._shouldEnterAsFirstChild(t,i)&&(l=s[0]),c>-1&&s.splice(c,1),l&&!this._dragDropRegistry.isDragging(l)){const u=l.getRootElement();u.parentElement.insertBefore(d,u),s.splice(a,0,e)}else g(this._element).appendChild(d),s.push(e);d.style.transform="",this._cacheItemPositions()}withItems(e){this._activeDraggables=e.slice(),this._cacheItemPositions()}withSortPredicate(e){this._sortPredicate=e}reset(){this._activeDraggables.forEach(e=>{const t=e.getRootElement();if(t){const i=this._itemPositions.find(o=>o.drag===e)?.initialTransform;t.style.transform=i||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(e){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(i=>i.drag===e)}updateOnScroll(e,t){this._itemPositions.forEach(({clientRect:i})=>{B(i,e,t)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()})}_cacheItemPositions(){const e="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(t=>{const i=t.getVisibleElement();return{drag:t,offset:0,initialTransform:i.style.transform||"",clientRect:yt(i)}}).sort((t,i)=>e?t.clientRect.left-i.clientRect.left:t.clientRect.top-i.clientRect.top)}_getItemOffsetPx(e,t,i){const o="horizontal"===this.orientation;let a=o?t.left-e.left:t.top-e.top;return-1===i&&(a+=o?t.width-e.width:t.height-e.height),a}_getSiblingOffsetPx(e,t,i){const o="horizontal"===this.orientation,a=t[e].clientRect,s=t[e+-1*i];let c=a[o?"width":"height"]*i;if(s){const d=o?"left":"top",l=o?"right":"bottom";-1===i?c-=s.clientRect[d]-a[l]:c+=a[d]-s.clientRect[l]}return c}_shouldEnterAsFirstChild(e,t){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,o="horizontal"===this.orientation;if(i[0].drag!==this._activeDraggables[0]){const s=i[i.length-1].clientRect;return o?e>=s.right:t>=s.bottom}{const s=i[0].clientRect;return o?e<=s.left:t<=s.top}}_getItemIndexFromPointerPosition(e,t,i,o){const a="horizontal"===this.orientation,s=this._itemPositions.findIndex(({drag:c,clientRect:d})=>c!==e&&((!o||c!==this._previousSwap.drag||!this._previousSwap.overlaps||(a?o.x:o.y)!==this._previousSwap.delta)&&(a?t>=Math.floor(d.left)&&t<Math.floor(d.right):i>=Math.floor(d.top)&&i<Math.floor(d.bottom))));return-1!==s&&this._sortPredicate(s,e)?s:-1}}const me=.05;class en{constructor(e,t,i,o,a){this._dragDropRegistry=t,this._ngZone=o,this._viewportRuler=a,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new h.x,this.entered=new h.x,this.exited=new h.x,this.dropped=new h.x,this.sorted=new h.x,this.receivingStarted=new h.x,this.receivingStopped=new h.x,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=C.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new h.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function Ui(n=0,e=K){return n<0&&(n=0),Nt(n,n,e)}(0,Ft).pipe(N(this._stopScrollTimers)).subscribe(()=>{const s=this._scrollNode,c=this.autoScrollStep;1===this._verticalScrollDirection?s.scrollBy(0,-c):2===this._verticalScrollDirection&&s.scrollBy(0,c),1===this._horizontalScrollDirection?s.scrollBy(-c,0):2===this._horizontalScrollDirection&&s.scrollBy(c,0)})},this.element=g(e),this._document=i,this.withScrollableParents([this.element]),t.registerDropContainer(this),this._parentPositions=new ie(i),this._sortStrategy=new tn(this.element,t),this._sortStrategy.withSortPredicate((s,c)=>this.sortPredicate(s,c,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(e,t,i,o){this._draggingStarted(),null==o&&this.sortingDisabled&&(o=this._draggables.indexOf(e)),this._sortStrategy.enter(e,t,i,o),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}exit(e){this._reset(),this.exited.next({item:e,container:this})}drop(e,t,i,o,a,s,c,d={}){this._reset(),this.dropped.next({item:e,currentIndex:t,previousIndex:i,container:this,previousContainer:o,isPointerOverContainer:a,distance:s,dropPoint:c,event:d})}withItems(e){const t=this._draggables;return this._draggables=e,e.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(t.filter(o=>o.isDragging()).every(o=>-1===e.indexOf(o))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(e){return this._sortStrategy.direction=e,this}connectedTo(e){return this._siblings=e.slice(),this}withOrientation(e){return this._sortStrategy.orientation=e,this}withScrollableParents(e){const t=g(this.element);return this._scrollableElements=-1===e.indexOf(t)?[t,...e]:e.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(e){return this._isDragging?this._sortStrategy.getItemIndex(e):this._draggables.indexOf(e)}isReceiving(){return this._activeSiblings.size>0}_sortItem(e,t,i,o){if(this.sortingDisabled||!this._clientRect||!ee(this._clientRect,.05,t,i))return;const a=this._sortStrategy.sort(e,t,i,o);a&&this.sorted.next({previousIndex:a.previousIndex,currentIndex:a.currentIndex,container:this,item:e})}_startScrollingIfNecessary(e,t){if(this.autoScrollDisabled)return;let i,o=0,a=0;if(this._parentPositions.positions.forEach((s,c)=>{c===this._document||!s.clientRect||i||ee(s.clientRect,.05,e,t)&&([o,a]=function nn(n,e,t,i){const o=he(e,i),a=pe(e,t);let s=0,c=0;if(o){const d=n.scrollTop;1===o?d>0&&(s=1):n.scrollHeight-d>n.clientHeight&&(s=2)}if(a){const d=n.scrollLeft;1===a?d>0&&(c=1):n.scrollWidth-d>n.clientWidth&&(c=2)}return[s,c]}(c,s.clientRect,e,t),(o||a)&&(i=c))}),!o&&!a){const{width:s,height:c}=this._viewportRuler.getViewportSize(),d={width:s,height:c,top:0,right:s,bottom:c,left:0};o=he(d,t),a=pe(d,e),i=window}i&&(o!==this._verticalScrollDirection||a!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=o,this._horizontalScrollDirection=a,this._scrollNode=i,(o||a)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const e=g(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const e=g(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(e).clientRect}_reset(){this._isDragging=!1;const e=g(this.element).style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(t=>t._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(e,t){return null!=this._clientRect&&Dt(this._clientRect,e,t)}_getSiblingContainerFromPosition(e,t,i){return this._siblings.find(o=>o._canReceive(e,t,i))}_canReceive(e,t,i){if(!this._clientRect||!Dt(this._clientRect,t,i)||!this.enterPredicate(e,this))return!1;const o=this._getShadowRoot().elementFromPoint(t,i);if(!o)return!1;const a=g(this.element);return o===a||a.contains(o)}_startReceiving(e,t){const i=this._activeSiblings;!i.has(e)&&t.every(o=>this.enterPredicate(o,this)||this._draggables.indexOf(o)>-1)&&(i.add(e),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:e,receiver:this,items:t}))}_stopReceiving(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:e,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(e=>{if(this.isDragging()){const t=this._parentPositions.handleScroll(e);t&&this._sortStrategy.updateOnScroll(t.top,t.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const e=jt(g(this.element));this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const e=this._sortStrategy.getActiveItemsSnapshot().filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,e))}}function he(n,e){const{top:t,bottom:i,height:o}=n,a=o*me;return e>=t-a&&e<=t+a?1:e>=i-a&&e<=i+a?2:0}function pe(n,e){const{left:t,right:i,width:o}=n,a=o*me;return e>=t-a&&e<=t+a?1:e>=i-a&&e<=i+a?2:0}const nt=E({passive:!1,capture:!0});let on=(()=>{class n{constructor(t,i){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=o=>o.isDragging(),this.pointerMove=new h.x,this.pointerUp=new h.x,this.scroll=new h.x,this._preventDefaultWhileDragging=o=>{this._activeDragInstances.length>0&&o.preventDefault()},this._persistentTouchmoveListener=o=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&o.preventDefault(),this.pointerMove.next(o))},this._document=i}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,nt)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,nt)}startDragging(t,i){if(!(this._activeDragInstances.indexOf(t)>-1)&&(this._activeDragInstances.push(t),1===this._activeDragInstances.length)){const o=i.type.startsWith("touch");this._globalListeners.set(o?"touchend":"mouseup",{handler:a=>this.pointerUp.next(a),options:!0}).set("scroll",{handler:a=>this.scroll.next(a),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:nt}),o||this._globalListeners.set("mousemove",{handler:a=>this.pointerMove.next(a),options:nt}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((a,s)=>{this._document.addEventListener(s,a.handler,a.options)})})}}stopDragging(t){const i=this._activeDragInstances.indexOf(t);i>-1&&(this._activeDragInstances.splice(i,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(t){return this._activeDragInstances.indexOf(t)>-1}scrolled(t){const i=[this.scroll];return t&&t!==this._document&&i.push(new I.y(o=>this._ngZone.runOutsideAngular(()=>{const s=c=>{this._activeDragInstances.length&&o.next(c)};return t.addEventListener("scroll",s,!0),()=>{t.removeEventListener("scroll",s,!0)}}))),(0,bt.T)(...i)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,i)=>{this._document.removeEventListener(i,t.handler,t.options)}),this._globalListeners.clear()}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(r.R0b),r.LFG(_.K0))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const rn={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let Ct=(()=>{class n{constructor(t,i,o,a){this._document=t,this._ngZone=i,this._viewportRuler=o,this._dragDropRegistry=a}createDrag(t,i=rn){return new Xi(t,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new en(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(_.K0),r.LFG(r.R0b),r.LFG(_i),r.LFG(on))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Et=new r.OlP("CDK_DRAG_PARENT"),St=new r.OlP("CdkDropListGroup");let fe=(()=>{class n{constructor(){this._items=new Set,this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=M(t)}ngOnDestroy(){this._items.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=r.lG2({type:n,selectors:[["","cdkDropListGroup",""]],inputs:{disabled:["cdkDropListGroupDisabled","disabled"]},exportAs:["cdkDropListGroup"],standalone:!0,features:[r._Bn([{provide:St,useExisting:n}])]}),n})();const ge=new r.OlP("CDK_DRAG_CONFIG");let an=0;const _e=new r.OlP("CdkDropList");let be=(()=>{class n{get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(t){this._dropListRef.disabled=this._disabled=M(t)}constructor(t,i,o,a,s,c,d){this.element=t,this._changeDetectorRef=o,this._scrollDispatcher=a,this._dir=s,this._group=c,this._destroyed=new h.x,this.connectedTo=[],this.id="cdk-drop-list-"+an++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new r.vpe,this.entered=new r.vpe,this.exited=new r.vpe,this.sorted=new r.vpe,this._unsortedItems=new Set,this._dropListRef=i.createDropList(t),this._dropListRef.data=this,d&&this._assignDefaults(d),this._dropListRef.enterPredicate=(l,u)=>this.enterPredicate(l.data,u.data),this._dropListRef.sortPredicate=(l,u,p)=>this.sortPredicate(l,u.data,p.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),n._dropLists.push(this),c&&c._items.add(this)}addItem(t){this._unsortedItems.add(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(t){this._unsortedItems.delete(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((t,i)=>t._dragRef.getVisibleElement().compareDocumentPosition(i._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const t=n._dropLists.indexOf(this);t>-1&&n._dropLists.splice(t,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(t){this._dir&&this._dir.change.pipe((0,J.O)(this._dir.value),N(this._destroyed)).subscribe(i=>t.withDirection(i)),t.beforeStarted.subscribe(()=>{const i=st(this.connectedTo).map(o=>"string"==typeof o?n._dropLists.find(s=>s.id===o):o);if(this._group&&this._group._items.forEach(o=>{-1===i.indexOf(o)&&i.push(o)}),!this._scrollableParentsResolved){const o=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(a=>a.getElementRef().nativeElement);this._dropListRef.withScrollableParents(o),this._scrollableParentsResolved=!0}t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.sortingDisabled=M(this.sortingDisabled),t.autoScrollDisabled=M(this.autoScrollDisabled),t.autoScrollStep=At(this.autoScrollStep,2),t.connectedTo(i.filter(o=>o&&o!==this).map(o=>o._dropListRef)).withOrientation(this.orientation)})}_handleEvents(t){t.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(i=>{this.entered.emit({container:this,item:i.item.data,currentIndex:i.currentIndex})}),t.exited.subscribe(i=>{this.exited.emit({container:this,item:i.item.data}),this._changeDetectorRef.markForCheck()}),t.sorted.subscribe(i=>{this.sorted.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,container:this,item:i.item.data})}),t.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,item:i.item.data,isPointerOverContainer:i.isPointerOverContainer,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),(0,bt.T)(t.receivingStarted,t.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(t){const{lockAxis:i,draggingDisabled:o,sortingDisabled:a,listAutoScrollDisabled:s,listOrientation:c}=t;this.disabled=o??!1,this.sortingDisabled=a??!1,this.autoScrollDisabled=s??!1,this.orientation=c||"vertical",i&&(this.lockAxis=i)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(t=>t._dragRef))}}return n._dropLists=[],n.\u0275fac=function(t){return new(t||n)(r.Y36(r.SBq),r.Y36(Ct),r.Y36(r.sBO),r.Y36(fi),r.Y36(Qt,8),r.Y36(St,12),r.Y36(ge,8))},n.\u0275dir=r.lG2({type:n,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(t,i){2&t&&(r.uIk("id",i.id),r.ekj("cdk-drop-list-disabled",i.disabled)("cdk-drop-list-dragging",i._dropListRef.isDragging())("cdk-drop-list-receiving",i._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],standalone:!0,features:[r._Bn([{provide:St,useValue:void 0},{provide:_e,useExisting:n}])]}),n})();const It=new r.OlP("CdkDragHandle"),ve=new r.OlP("CdkDragPlaceholder");let xe=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(r.Rgc))},n.\u0275dir=r.lG2({type:n,selectors:[["ng-template","cdkDragPlaceholder",""]],inputs:{data:"data"},standalone:!0,features:[r._Bn([{provide:ve,useExisting:n}])]}),n})();const ye=new r.OlP("CdkDragPreview");let De=(()=>{class n{get matchSize(){return this._matchSize}set matchSize(t){this._matchSize=M(t)}constructor(t){this.templateRef=t,this._matchSize=!1}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(r.Rgc))},n.\u0275dir=r.lG2({type:n,selectors:[["ng-template","cdkDragPreview",""]],inputs:{data:"data",matchSize:"matchSize"},standalone:!0,features:[r._Bn([{provide:ye,useExisting:n}])]}),n})(),Me=(()=>{class n{get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=M(t),this._dragRef.disabled=this._disabled}constructor(t,i,o,a,s,c,d,l,u,p,v){this.element=t,this.dropContainer=i,this._ngZone=a,this._viewContainerRef=s,this._dir=d,this._changeDetectorRef=u,this._selfHandle=p,this._parentDrag=v,this._destroyed=new h.x,this.started=new r.vpe,this.released=new r.vpe,this.ended=new r.vpe,this.entered=new r.vpe,this.exited=new r.vpe,this.dropped=new r.vpe,this.moved=new I.y(D=>{const y=this._dragRef.moved.pipe((0,X.U)(x=>({source:this,pointerPosition:x.pointerPosition,event:x.event,delta:x.delta,distance:x.distance}))).subscribe(D);return()=>{y.unsubscribe()}}),this._dragRef=l.createDrag(t,{dragStartThreshold:c&&null!=c.dragStartThreshold?c.dragStartThreshold:5,pointerDirectionChangeThreshold:c&&null!=c.pointerDirectionChangeThreshold?c.pointerDirectionChangeThreshold:5,zIndex:c?.zIndex}),this._dragRef.data=this,n._dragInstances.push(this),c&&this._assignDefaults(c),i&&(this._dragRef._withDropContainer(i._dropListRef),i.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(t){this._dragRef.setFreeDragPosition(t)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,gt.q)(1),N(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(t){const i=t.rootElementSelector,o=t.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),o&&!o.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const t=n._dragInstances.indexOf(this);t>-1&&n._dragInstances.splice(t,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const t=this.element.nativeElement;let i=t;this.rootElementSelector&&(i=void 0!==t.closest?t.closest(this.rootElementSelector):t.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(i||t)}_getBoundaryElement(){const t=this.boundaryElement;return t?"string"==typeof t?this.element.nativeElement.closest(t):g(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){const i=this._dir,o=this.dragStartDelay,a=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,s=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.dragStartDelay="object"==typeof o&&o?o:At(o),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(a).withPreviewTemplate(s).withPreviewContainer(this.previewContainer||"global"),i&&t.withDirection(i.value)}}),t.beforeStarted.pipe((0,gt.q)(1)).subscribe(()=>{if(this._parentDrag)return void t.withParent(this._parentDrag._dragRef);let i=this.element.nativeElement.parentElement;for(;i;){if(i.classList.contains("cdk-drag")){t.withParent(n._dragInstances.find(o=>o.element.nativeElement===i)?._dragRef||null);break}i=i.parentElement}})}_handleEvents(t){t.started.subscribe(i=>{this.started.emit({source:this,event:i.event}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(i=>{this.released.emit({source:this,event:i.event})}),t.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),t.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),t.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event})})}_assignDefaults(t){const{lockAxis:i,dragStartDelay:o,constrainPosition:a,previewClass:s,boundaryElement:c,draggingDisabled:d,rootElementSelector:l,previewContainer:u}=t;this.disabled=d??!1,this.dragStartDelay=o||0,i&&(this.lockAxis=i),a&&(this.constrainPosition=a),s&&(this.previewClass=s),c&&(this.boundaryElement=c),l&&(this.rootElementSelector=l),u&&(this.previewContainer=u)}_setupHandlesListener(){this._handles.changes.pipe((0,J.O)(this._handles),(0,Zi.b)(t=>{const i=t.filter(o=>o._parentDrag===this).map(o=>o.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),(0,Hi.w)(t=>(0,bt.T)(...t.map(i=>i._stateChanges.pipe((0,J.O)(i))))),N(this._destroyed)).subscribe(t=>{const i=this._dragRef,o=t.element.nativeElement;t.disabled?i.disableHandle(o):i.enableHandle(o)})}}return n._dragInstances=[],n.\u0275fac=function(t){return new(t||n)(r.Y36(r.SBq),r.Y36(_e,12),r.Y36(_.K0),r.Y36(r.R0b),r.Y36(r.s_b),r.Y36(ge,8),r.Y36(Qt,8),r.Y36(Ct),r.Y36(r.sBO),r.Y36(It,10),r.Y36(Et,12))},n.\u0275dir=r.lG2({type:n,selectors:[["","cdkDrag",""]],contentQueries:function(t,i,o){if(1&t&&(r.Suo(o,ye,5),r.Suo(o,ve,5),r.Suo(o,It,5)),2&t){let a;r.iGM(a=r.CRH())&&(i._previewTemplate=a.first),r.iGM(a=r.CRH())&&(i._placeholderTemplate=a.first),r.iGM(a=r.CRH())&&(i._handles=a)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,i){2&t&&r.ekj("cdk-drag-disabled",i.disabled)("cdk-drag-dragging",i._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],standalone:!0,features:[r._Bn([{provide:Et,useExisting:n}]),r.TTD]}),n})(),we=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[Ct],imports:[bi]}),n})();const ln=new r.OlP("mat-sanity-checks",{providedIn:"root",factory:function dn(){return!0}});let ot=(()=>{class n{constructor(t,i,o){this._sanityChecks=i,this._document=o,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function hi(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(ji),r.LFG(ln,8),r.LFG(_.K0))},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[Xt,Xt]}),n})();class mn{constructor(e,t,i,o=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=o,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Se=E({passive:!0,capture:!0});class hn{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=L(e);t&&this._events.get(e.type)?.forEach((i,o)=>{(o===t||o.contains(t))&&i.forEach(a=>a.handleEvent(e))})}}addHandler(e,t,i,o){const a=this._events.get(t);if(a){const s=a.get(i);s?s.add(o):a.set(i,new Set([o]))}else this._events.set(t,new Map([[i,new Set([o])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,Se)})}removeHandler(e,t,i){const o=this._events.get(e);if(!o)return;const a=o.get(t);a&&(a.delete(i),0===a.size&&o.delete(t),0===o.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,Se)))}}const Ie={enterDuration:225,exitDuration:150},Te=E({passive:!0,capture:!0}),Re=["mousedown","touchstart"],Oe=["mouseup","mouseleave","touchend","touchcancel"];class rt{constructor(e,t,i,o){this._target=e,this._ngZone=t,this._platform=o,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,o.isBrowser&&(this._containerElement=g(i))}fadeInRipple(e,t,i={}){const o=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a={...Ie,...i.animation};i.centered&&(e=o.left+o.width/2,t=o.top+o.height/2);const s=i.radius||function fn(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),o=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+o*o)}(e,t,o),c=e-o.left,d=t-o.top,l=a.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=c-s+"px",u.style.top=d-s+"px",u.style.height=2*s+"px",u.style.width=2*s+"px",null!=i.color&&(u.style.backgroundColor=i.color),u.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(u);const p=window.getComputedStyle(u),D=p.transitionDuration,y="none"===p.transitionProperty||"0s"===D||"0s, 0s"===D||0===o.width&&0===o.height,x=new mn(this,u,i,y);u.style.transform="scale3d(1, 1, 1)",x.state=0,i.persistent||(this._mostRecentTransientRipple=x);let b=null;return!y&&(l||a.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const at=()=>this._finishRippleTransition(x),H=()=>this._destroyRipple(x);u.addEventListener("transitionend",at),u.addEventListener("transitioncancel",H),b={onTransitionEnd:at,onTransitionCancel:H}}),this._activeRipples.set(x,b),(y||!l)&&this._finishRippleTransition(x),x}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...Ie,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=g(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,Re.forEach(i=>{rt._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Oe.forEach(t=>{this._triggerElement.addEventListener(t,this,Te)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=Wt(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!Kt(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(Re.forEach(t=>rt._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&Oe.forEach(t=>e.removeEventListener(t,this,Te)))}}rt._eventManager=new hn;let gn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[ot,ot]}),n})(),Ae=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[ot,gn,ot]}),n})(),vn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[_.ez,we,Ae,_.ez,we,Ae]}),n})();var ke=m(1634),f=m(7340);const Pe=(0,f.X$)("fade",[(0,f.eR)(":enter",[(0,f.oB)({opacity:" 0"}),(0,f.jt)("100ms ease-in-out",(0,f.oB)({opacity:"0"})),(0,f.jt)("200ms ease-in-out",(0,f.oB)({opacity:"1"}))]),(0,f.eR)(":leave",[(0,f.jt)("0ms",(0,f.oB)({opacity:"0"}))])]),xn=(0,f.X$)("rotate",[(0,f.SB)("void",(0,f.oB)({transform:"rotate(0deg)"})),(0,f.SB)("*",(0,f.oB)({transform:"rotate(5deg)"})),(0,f.eR)("* <=> void",(0,f.jt)("50ms"))]);class Fe{constructor(e,t){this.dealModels=e,this.previousDealList=t,this.items={"Contact Made":[],"Getting Ready":[],"Offer Sent":[],"Potential Value":[],Focus:[]},this.newItems={"Contact Made":[],"Getting Ready":[],"Offer Sent":[],"Potential Value":[],Focus:[]},this.itemsMap()}itemsMap(){this.dealModels.forEach(e=>{this.items[e.item.status].push(e)})}totalAlarm(e){let t=0;return this.items[e].forEach(i=>i.alarm?t+=1:null),t}}var U=m(262),Tt=m(2843),yn=m(413),Dn=m(4978),Mn=m(2358),Le=m(529);let wn=(()=>{class n{constructor(t){this.http=t,this.endPointUrl=""}get getAll(){return this.http.get(this.endPointUrl).pipe((0,U.K)(this.handleError))}getOne(t){return this.http.get(this.endPointUrl+"/"+t).pipe((0,U.K)(this.handleError))}create(t){return this.http.post(this.endPointUrl,t).pipe((0,U.K)(this.handleError))}update(t,i){return this.http.patch(this.endPointUrl+"/"+t,i).pipe((0,U.K)(this.handleError))}delete(t){return this.http.delete(this.endPointUrl+"/"+t).pipe((0,U.K)(this.handleError))}handleError(t){return(0,Tt._)(400===t.status?()=>new yn.i(t.error):404===t.status?()=>new Mn.T(t.error):()=>new Dn.W(t.error))}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(Le.eN))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Cn{constructor(e){this.item=e}get statge(){return this.item.status}get id(){return this.item.id}get pro_status(){return Number(this.item.probability_status.replace(/\D/,""))}get isExpire(){let e=(new Date).toISOString().slice(0,10);return e=new Date("2023-03-15"),new Date(e).valueOf()>new Date(this.item.date).valueOf()}get isReady(){return"100%"==this.item.probability_status}get readyToProduction(){return"Getting Ready"==this.item.status}get alarm(){return!("100%"!=this.item.probability_status&&!this.isExpire)}}let En=(()=>{class n extends wn{constructor(t){super(t),this.data=new r.vpe,this.localData={},this.indexById=i=>this.localData.findIndex(o=>o.item.id==i),this.endPointUrl="https://my-json-server.typicode.com/mabukoush1/contacts/db",this.getAll.subscribe(i=>{this.localData=i,this.fakeData(),this.data.emit(i)})}get getAll(){return super.getAll.pipe((0,X.U)(t=>t.deals.map(i=>new Cn(i))))}update(t,i){let o=this.localData[this.indexById(t)].item;this.localData[this.indexById(t)].item={...o,...i},this.data.emit(this.localData)}create(t){return super.create(t)}delete(t){this.localData.splice(this.indexById(t),1),this.data.emit(this.localData)}fakeData(){this.localData[1].item.probability_status="100%",this.localData[6].item.probability_status="100%";const t=this.localData.findIndex(i=>10==i.item.id);this.localData[t].item.probability_status="100%"}duplicateDate(t){return[...t,...t]}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(Le.eN))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Sn(n,e){1&n&&(r.TgZ(0,"abbr",null,1)(2,"div",2),r.Hsn(3),r.qZA(),r.TgZ(4,"div",3,3),r._UZ(6,"i",4),r.qZA()()),2&n&&r.Q6J("@fade",void 0)}const In=["*"];let Tn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=r.lG2({type:n,selectors:[["","notificateFor",""]]}),n})(),Ne=(()=>{class n{get notificateFor(){return document.querySelector("[notificateFor]")}constructor(t){this.el=t,this.open=!1,this.onMouseLeave=()=>this.open=!1}ngOnInit(){this.triger.style.cursor="pointer",this.triger.addEventListener("mouseenter",this.onMouseEnter.bind(this)),this.triger.addEventListener("mouseleave",this.onMouseLeave.bind(this))}onMouseEnter(t){this.open=!0,setTimeout(()=>{this.setNotificationPosition()},10)}setNotificationPosition(){const t=this.el.nativeElement.firstElementChild;let o=this.triger.offsetLeft-t.clientWidth/2+this.triger.clientWidth/2-(0|this.notificateFor?.scrollLeft);t.style.top=this.triger.offsetTop-t.clientHeight-(0|this.notificateFor?.scrollTop)+"px",t.style.left=`${o}px`}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(r.SBq))},n.\u0275cmp=r.Xpm({type:n,selectors:[["notification"]],inputs:{triger:["NotificationTragerFor","triger"]},ngContentSelectors:In,decls:1,vars:1,consts:[[4,"ngIf"],["host",""],["content","",1,"px-2","py-1","rounded"],["pointer",""],[1,"bi","bi-triangle-fill"]],template:function(t,i){1&t&&(r.F$t(),r.YNc(0,Sn,7,1,"abbr",0)),2&t&&r.Q6J("ngIf",i.open)},dependencies:[_.O5],styles:['.fadeIn[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_fadeIn;animation-duration:1s}.fadeOut[_ngcontent-%COMP%]{animation-duration:1s;animation-name:_ngcontent-%COMP%_fadeOut}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_fadeOut{0%{opacity:1}to{opacity:0}}[_ngcontent-%COMP%]:root{--cardFont: 12px;--color-primary: #aaaaaa;--color-secondray: #176EFF;--color-accent: #2f3c4d;--warn-color: #d0dd1c;--danger-color: #d12727d3;--alert-color: #842029;--bg-color: #fff;--bg-overlay: rgba(0, 0, 0, .02);--succuss-color: #0cdd17;--succuss-color-1: #0cdd16c7;--succuss-bg: #e7f4ed;--alert-bg: #f8d7da85}body[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{padding:0;margin:0}.material-symbols-outlined.outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.material-symbols-outlined.fill[_ngcontent-%COMP%]{font-variation-settings:"FILL" 1,"wght" 400,"GRAD" 0,"opsz" 48}.container-fluid[_ngcontent-%COMP%]{max-width:1300px}@media screen and (max-width: 768px){[_ngcontent-%COMP%]:root{--cardFont: 10px}}abbr[_ngcontent-%COMP%]{color:var(--bg-color);position:absolute;z-index:99;left:0;max-width:140px;font-size:12px;font-weight:600}abbr[_ngcontent-%COMP%]   div[content][_ngcontent-%COMP%]{background-color:var(--color-accent);min-width:35px;min-height:25px}abbr[_ngcontent-%COMP%]   div[pointer][_ngcontent-%COMP%]{height:5px;color:var(--color-accent);transform:rotate(180deg) translateY(-5px);text-align:center}abbr[_ngcontent-%COMP%]:hover{display:block}'],data:{animation:[Pe]}}),n})(),Rn=(()=>{class n{transform(t,...i){return t?this.extractNumber(t).replace(/^(\d{3})(\d{1,3})(\d{3})$/,"$1  $2  $3"):null}extractNumber(t,i=9){return t.replace(/\D/g,"").slice(0,i)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=r.Yjl({name:"phone",type:n,pure:!0}),n})(),On=(()=>{class n{transform(t,i=15){return t?t.slice(0,i):null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=r.Yjl({name:"max",type:n,pure:!0}),n})();function An(n,e){1&n&&(r.TgZ(0,"span",19),r._UZ(1,"i",20),r.qZA())}function kn(n,e){1&n&&(r.TgZ(0,"span",21),r._UZ(1,"i",22),r.qZA())}function Pn(n,e){1&n&&(r.TgZ(0,"span",23),r._uU(1,"( past due )"),r.qZA())}function Fn(n,e){if(1&n&&(r.TgZ(0,"div",24),r._UZ(1,"progress",25),r.qZA()),2&n){const t=r.oxw();r.xp6(1),r.Q6J("value",null==t.deal?null:t.deal.pro_status)}}let Ln=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=r.Xpm({type:n,selectors:[["card"]],inputs:{deal:"deal"},decls:48,vars:33,consts:[[1,"host","shadow-sm","readyState"],[1,"header","d-flex","justify-content-between","align-item-center"],["class","wait",4,"ngIf"],[1,"menu-icon"],[1,"bi","bi-three-dots"],[1,"body","py-1"],[1,"chip-items","d-flex"],["state",""],[1,"chip","state"],["probability_status",""],[1,"chip","probability_status"],["class","chip outDate",4,"ngIf"],[1,"contact","d-flex"],[1,"bi","bi-telephone-fill"],[1,"schedule","d-flex"],[1,"bi","bi-calendar3"],["class","past-due",4,"ngIf"],["class","footer",4,"ngIf"],[3,"NotificationTragerFor"],[1,"wait"],[1,"bi","bi-hourglass-split"],[1,"chip","outDate"],[1,"bi","bi-x"],[1,"past-due"],[1,"footer"],["max","100",3,"value"]],template:function(t,i){if(1&t&&(r.TgZ(0,"div",0)(1,"div",1)(2,"h6"),r._uU(3),r.qZA(),r.TgZ(4,"div"),r.YNc(5,An,2,0,"span",2),r.TgZ(6,"button",3),r._UZ(7,"i",4),r.qZA()()(),r.TgZ(8,"div",5)(9,"div",6)(10,"div",null,7)(12,"span",8),r._uU(13),r.qZA()(),r.TgZ(14,"div",null,9)(16,"span",10),r._uU(17),r.qZA()(),r.TgZ(18,"div"),r.YNc(19,kn,2,0,"span",11),r.qZA()(),r.TgZ(20,"div",12)(21,"span"),r._UZ(22,"i",13),r.qZA(),r.TgZ(23,"span"),r._uU(24),r.ALo(25,"max"),r.ALo(26,"max"),r.qZA(),r.TgZ(27,"span"),r._uU(28),r.ALo(29,"phone"),r.qZA()(),r.TgZ(30,"div",14)(31,"span"),r._UZ(32,"i",15),r.qZA(),r.TgZ(33,"span"),r._uU(34),r.ALo(35,"date"),r.qZA(),r.YNc(36,Pn,2,0,"span",16),r.qZA()(),r.YNc(37,Fn,2,1,"div",17),r.TgZ(38,"notification",18)(39,"p"),r._uU(40,"probability_status :"),r.qZA(),r.TgZ(41,"p"),r._uU(42),r.qZA()(),r.TgZ(43,"notification",18)(44,"p"),r._uU(45,"State"),r.qZA(),r.TgZ(46,"p"),r._uU(47),r.qZA()()()),2&t){const o=r.MAs(11),a=r.MAs(15);r.ekj("readyState",null==i.deal?null:i.deal.readyToProduction)("done",100==(null==i.deal?null:i.deal.pro_status)&&(null==i.deal?null:i.deal.readyToProduction)),r.xp6(3),r.Oqu(null==i.deal||null==i.deal.item?null:i.deal.item.company),r.xp6(2),r.Q6J("ngIf",null==i.deal?null:i.deal.isReady),r.xp6(8),r.Oqu(null==i.deal||null==i.deal.item?null:i.deal.item.state),r.xp6(4),r.Oqu(null==i.deal||null==i.deal.item?null:i.deal.item.probability_status),r.xp6(2),r.Q6J("ngIf",null==i.deal?null:i.deal.isExpire),r.xp6(5),r.lnq("",r.xi3(25,22,null==i.deal||null==i.deal.item?null:i.deal.item.first_name,10),""," ","",r.xi3(26,25,null==i.deal||null==i.deal.item?null:i.deal.item.last_name,10),""),r.xp6(4),r.Oqu(r.lcZ(29,28,null==i.deal||null==i.deal.item?null:i.deal.item.phone)),r.xp6(2),r.ekj("expire",null==i.deal?null:i.deal.isExpire),r.xp6(4),r.Oqu(r.xi3(35,30,null==i.deal||null==i.deal.item?null:i.deal.item.date,"dd.MM.yyyy")),r.xp6(2),r.Q6J("ngIf",null==i.deal?null:i.deal.isExpire),r.xp6(1),r.Q6J("ngIf",null==i.deal?null:i.deal.readyToProduction),r.xp6(1),r.Q6J("NotificationTragerFor",a),r.xp6(4),r.Oqu(null==i.deal||null==i.deal.item?null:i.deal.item.probability_status),r.xp6(1),r.Q6J("NotificationTragerFor",o),r.xp6(4),r.Oqu(null==i.deal||null==i.deal.item?null:i.deal.item.state)}},dependencies:[_.O5,Ne,_.uU,Rn,On],styles:['.fadeIn[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_fadeIn;animation-duration:1s}.fadeOut[_ngcontent-%COMP%]{animation-duration:1s;animation-name:_ngcontent-%COMP%_fadeOut}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_fadeOut{0%{opacity:1}to{opacity:0}}[_ngcontent-%COMP%]:root{--cardFont: 12px;--color-primary: #aaaaaa;--color-secondray: #176EFF;--color-accent: #2f3c4d;--warn-color: #d0dd1c;--danger-color: #d12727d3;--alert-color: #842029;--bg-color: #fff;--bg-overlay: rgba(0, 0, 0, .02);--succuss-color: #0cdd17;--succuss-color-1: #0cdd16c7;--succuss-bg: #e7f4ed;--alert-bg: #f8d7da85}body[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{padding:0;margin:0}.material-symbols-outlined.outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.material-symbols-outlined.fill[_ngcontent-%COMP%]{font-variation-settings:"FILL" 1,"wght" 400,"GRAD" 0,"opsz" 48}.container-fluid[_ngcontent-%COMP%]{max-width:1300px}@media screen and (max-width: 768px){[_ngcontent-%COMP%]:root{--cardFont: 10px}}.host[_ngcontent-%COMP%]{font-size:var(--cardFont);padding:5px;background-color:var(--bg-color);border-radius:10px;margin-bottom:5px}.host[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{padding-top:.1em;font-size:1.2em;font-weight:600}.host[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .wait[_ngcontent-%COMP%]{margin-right:.5em;font-size:1.2em;color:var(--color-primary)}.host[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1.3em;background-color:#fff;border:none;outline:none;border-radius:4px;cursor:pointer;text-align:center;transition:all .2s}.host[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.6em}.host[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .chip-items[_ngcontent-%COMP%]{width:100%;display:flex;gap:.5em}.host[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .chip-items[_ngcontent-%COMP%]   .chip[_ngcontent-%COMP%]{background-color:#fff;border:none;outline:none;cursor:pointer;text-align:center;transition:all .2s;color:var(--bg-color);font-size:1em;font-weight:600;border-radius:6px;padding:1px 6px;display:flex;align-items:center;margin:3px}.host[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .chip-items[_ngcontent-%COMP%]   .state[_ngcontent-%COMP%]{background-color:var(--color-primary)}.host[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .chip-items[_ngcontent-%COMP%]   .probability_status[_ngcontent-%COMP%]{background-color:var(--color-secondray)}.host[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .chip-items[_ngcontent-%COMP%]   .outDate[_ngcontent-%COMP%]{background-color:var(--danger-color);color:#fff;padding:0}.host[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .chip-items[_ngcontent-%COMP%]   .outDate[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{line-height:10px;font-size:1.5em}.host[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]{width:100%;gap:.5em;color:var(--color-primary)}.host[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .schedule[_ngcontent-%COMP%]{color:var(--color-primary);gap:.5em;width:100%}.host[_ngcontent-%COMP%]   .expire[_ngcontent-%COMP%]{width:-moz-fit-content!important;width:fit-content!important;background-color:var(--alert-bg);color:var(--danger-color)!important;padding:1px 5px;border-radius:2px}.host[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   progress[_ngcontent-%COMP%]{width:100%;border-radius:5px;height:8px;background-color:var(--bg-color);border:1px solid var(--succuss-bg)}.host[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   progress[_ngcontent-%COMP%]::-moz-progress-bar{background:var(--succuss-color-1)}.host[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   progress[_ngcontent-%COMP%]::-webkit-progress-value{background:var(--succuss-color-1)}.host.readyState[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .probability_status[_ngcontent-%COMP%], .host.readyState[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .outDate[_ngcontent-%COMP%], .host.readyState[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .past-due[_ngcontent-%COMP%]{display:none!important}.host.readyState[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .expire[_ngcontent-%COMP%]{background-color:transparent!important;color:var(--color-primary)!important}.host.readyState[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .wait[_ngcontent-%COMP%]{display:none}.host.done[_ngcontent-%COMP%]{background-color:var(--succuss-bg)}.host.done[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:none}.host.done[_ngcontent-%COMP%]   .state[_ngcontent-%COMP%]{background-color:var(--bg-color)!important}.host.done[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{color:var(--succuss-color-1)!important}']}),n})(),Nn=(()=>{class n{constructor(t){this.el=t,this.Ready=!1,this.startX=0,document.body.addEventListener("touchmove",i=>{this.dragElement&&(this.el.nativeElement.scrollLeft+=(i.changedTouches[0].clientX-this.startX)/20)})}touchStart(t){t instanceof TouchEvent&&(this.startX=t.changedTouches[0].clientX),this.dragElement=t.target.closest(".host"),this.Ready=this.el.nativeElement.scrollWidth!=this.el.nativeElement.clientWidth}touchEnd(){this.Ready=!1,this.el.nativeElement.classList.remove("crm-slideOnDrag")}moveStart(t){if(this.Ready){let i=t.movementX;this.el.nativeElement.scrollLeft+=this.dragElement?i:-i,this.el.nativeElement.classList.add("crm-slideOnDrag")}}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(r.SBq))},n.\u0275dir=r.lG2({type:n,selectors:[["","slideOnDrag",""]],hostBindings:function(t,i){1&t&&r.NdJ("touchstart",function(a){return i.touchStart(a)})("mousedown",function(a){return i.touchStart(a)})("mouseup",function(){return i.touchEnd()})("touchend",function(){return i.touchEnd()})("mousemove",function(a){return i.moveStart(a)})}}),n})(),Bn=(()=>{class n{constructor(){this.searchValue=new r.vpe}emitSearchValue(t){this.searchValue.emit(t.target.value)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=r.Xpm({type:n,selectors:[["searchNav"]],outputs:{searchValue:"searchValue"},decls:15,vars:0,consts:[[1,"container-fluid"],[1,"search-nav","py-2"],[1,"row"],[1,"col-3"],[1,"col-6"],[1,"search"],["type","search","formControlName","search","placeholder","search by firstname, lastname, email",1,"form-control",3,"keyup"],[1,"add-btn","ms-auto","btn"],[1,"material-symbols-outlined"]],template:function(t,i){1&t&&(r.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2"),r._uU(5," Deals "),r.qZA()(),r.TgZ(6,"div",4)(7,"div",5)(8,"input",6),r.NdJ("keyup",function(a){return i.emitSearchValue(a)}),r.qZA()()(),r.TgZ(9,"div",3)(10,"button",7)(11,"span",8),r._uU(12,"add_circle"),r.qZA(),r.TgZ(13,"span"),r._uU(14,"Add Deal"),r.qZA()()()()()())},styles:[".search-nav[_ngcontent-%COMP%]{height:60px;font-size:14px}.search-nav[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]{background-color:var(--color-accent);color:var(--bg-color);font-size:1em;display:flex;justify-content:space-around;align-items:center;width:100%;min-width:8em;max-width:13em}.search-nav[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{font-size:1em;width:100%}.search-nav[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;box-shadow:none}.search-nav[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{font-size:.8em}.search-nav[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{font-size:1.3em;font-weight:500}"]}),n})(),zn=(()=>{class n{transform(t,i){if(!t||0==t.length)return[];if(!i)return t;let o=[];return t.forEach(a=>a.item.first_name.toLowerCase().includes(i.toLowerCase())||a.item.last_name.toLowerCase().includes(i.toLowerCase())||a.item.email.toLowerCase().includes(i.toLowerCase())?o.push(a):null),o}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=r.Yjl({name:"search",type:n,pure:!0}),n})();function Vn(n,e){1&n&&r._UZ(0,"div",17)}function jn(n,e){if(1&n&&(r.TgZ(0,"div")(1,"div",18),r._UZ(2,"card",15),r.qZA()()),2&n){const t=r.oxw().$implicit;r.xp6(1),r.Q6J("@rotate",void 0),r.xp6(1),r.Q6J("deal",t)}}function Un(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div",14),r.NdJ("cdkDragStarted",function(){r.CHM(t);const o=r.oxw(2);return r.KtG(o.isDragged=!0)})("cdkDragEnded",function(){r.CHM(t);const o=r.oxw(2);return o.isDragged=!1,r.KtG(o.deleteBox=!1)})("mousedown",function(){r.CHM(t);const o=r.oxw(2);return r.KtG(o.deleteBox=!0)})("mouseup",function(){r.CHM(t);const o=r.oxw(2);return r.KtG(o.deleteBox=!1)})("touchstart",function(){r.CHM(t);const o=r.oxw(2);return r.KtG(o.deleteBox=!0)}),r.YNc(1,Vn,1,0,"div",4),r._UZ(2,"card",15),r.YNc(3,jn,3,2,"ng-template",16),r.qZA()}if(2&n){const t=e.$implicit;r.xp6(2),r.Q6J("deal",t)}}function Zn(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"div",7),r.NdJ("cdkDropListDropped",function(o){const s=r.CHM(t).$implicit,c=r.oxw();return r.KtG(c.drop(o,s))}),r.TgZ(1,"div",8)(2,"h2"),r._uU(3),r.qZA(),r.TgZ(4,"div",9,10)(6,"div")(7,"span",11),r._uU(8," assignment "),r.qZA(),r.TgZ(9,"p"),r._uU(10),r.qZA()(),r.TgZ(11,"div")(12,"span",11),r._uU(13," notifications_active "),r.qZA(),r._uU(14),r.qZA(),r.TgZ(15,"notification",12)(16,"p"),r._uU(17),r.qZA(),r.TgZ(18,"p"),r._uU(19),r.qZA()()()(),r.YNc(20,Un,4,1,"div",13),r.ALo(21,"search"),r.qZA()}if(2&n){const t=e.$implicit,i=r.MAs(5),o=r.oxw();r.Q6J("cdkDropListData",o.dataList.items[t]),r.xp6(3),r.Oqu(t),r.xp6(7),r.hij(" ",o.dataList.items[t].length," "),r.xp6(4),r.hij(" ",o.dataList.totalAlarm(t)," "),r.xp6(1),r.Q6J("NotificationTragerFor",i),r.xp6(2),r.AsE("",t," ",o.dataList.items[t].length," Deal "),r.xp6(2),r.hij("",o.dataList.totalAlarm(t)," Notification"),r.xp6(1),r.Q6J("ngForOf",r.xi3(21,9,o.dataList.items[t],o.searchVal))}}function Hn(n,e){1&n&&r._UZ(0,"div",17)}const Gn=[{path:"",component:(()=>{class n{constructor(t){this.dealReqService=t,this.statges=["Potential Value","Focus","Contact Made","Offer Sent","Getting Ready"],this.deals=[],this.isDragged=!1,this.deleteBox=!1,this.dataList={},this.originalDataList={},t.data.subscribe(i=>{this.originalDataList.items||(this.originalDataList=new Fe(i,this.dataList)),this.dataList=new Fe(i,this.dataList),this.restoreOriginalOrder()})}ngAfterViewInit(){}removeItemFromArray(t,i){this.dealReqService.delete(t[i].item.id)}drop(t,i){let o=t.previousContainer.data[t.previousIndex].item.id;"cdk-drop-list-0"==t.container.id&&this.removeItemFromArray(t.previousContainer.data,t.previousIndex),t.previousContainer===t.container?wt(t.container.data,t.previousIndex,t.currentIndex):(function Ji(n,e,t,i){const o=V(t,n.length-1),a=V(i,e.length);n.length&&e.splice(a,0,n.splice(o,1)[0])}(t.previousContainer.data,t.container.data,t.previousIndex,t.currentIndex),this.originalDataList=this.dataList,this.dealReqService.update(o,{status:i})),this.originalDataList=this.dataList}restoreOriginalOrder(){if(this.originalDataList&&this.dataList)for(const t in this.dataList.items){const i=this.dataList.items[t],o=this.originalDataList.items[t];for(let a=0;a<i.length;a++){const s=o.findIndex(c=>c.id===i[a].id);-1!==s&&s!==a&&wt(i,a,s)}}}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(En))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-deals"]],decls:10,vars:5,consts:[[3,"searchValue"],["cdkDropListGroup","","notificateFor","","slideOnDrag","",1,"container-fluid","statge-container"],["cdkDropList","","class","statge p-1",3,"cdkDropListData","cdkDropListDropped",4,"ngFor","ngForOf"],["cdkDropList","",1,"delete-statge","p-1",3,"cdkDropListDropped"],["class","placeholder",4,"cdkDragPlaceholder"],[1,"d-flex","justify-content-center","align-items-center"],[1,"material-symbols-outlined"],["cdkDropList","",1,"statge","p-1",3,"cdkDropListData","cdkDropListDropped"],[1,"heading","p-2"],[1,"summary","my-1","d-flex","align-item-center"],["summary",""],[1,"material-symbols-outlined","fill"],[3,"NotificationTragerFor"],["class","drag-box","cdkDrag","",3,"cdkDragStarted","cdkDragEnded","mousedown","mouseup","touchstart",4,"ngFor","ngForOf"],["cdkDrag","",1,"drag-box",3,"cdkDragStarted","cdkDragEnded","mousedown","mouseup","touchstart"],[3,"deal"],["cdkDragPreview","","matchSize",""],[1,"placeholder"],[1,"statge-drag-preview"]],template:function(t,i){1&t&&(r.TgZ(0,"searchNav",0),r.NdJ("searchValue",function(a){return i.searchVal=a}),r.qZA(),r.TgZ(1,"section",1),r.YNc(2,Zn,22,12,"div",2),r.TgZ(3,"div",3),r.NdJ("cdkDropListDropped",function(a){return i.drop(a,null)}),r.YNc(4,Hn,1,0,"div",4),r.TgZ(5,"div",5)(6,"span",6),r._uU(7," delete "),r.qZA(),r.TgZ(8,"p"),r._uU(9,"Delete Card"),r.qZA()()()()),2&t&&(r.xp6(1),r.ekj("is-dragging",i.isDragged),r.xp6(1),r.Q6J("ngForOf",i.statges),r.xp6(1),r.Udp("display",i.deleteBox?"block":"none"))},dependencies:[Ln,_.sg,Ne,be,fe,Me,De,xe,Tn,Nn,Bn,zn],styles:['.fadeIn[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_fadeIn;animation-duration:1s}.fadeOut[_ngcontent-%COMP%]{animation-duration:1s;animation-name:_ngcontent-%COMP%_fadeOut}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_fadeOut{0%{opacity:1}to{opacity:0}}[_ngcontent-%COMP%]:root{--cardFont: 12px;--color-primary: #aaaaaa;--color-secondray: #176EFF;--color-accent: #2f3c4d;--warn-color: #d0dd1c;--danger-color: #d12727d3;--alert-color: #842029;--bg-color: #fff;--bg-overlay: rgba(0, 0, 0, .02);--succuss-color: #0cdd17;--succuss-color-1: #0cdd16c7;--succuss-bg: #e7f4ed;--alert-bg: #f8d7da85}body[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{padding:0;margin:0}.material-symbols-outlined.outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.material-symbols-outlined.fill[_ngcontent-%COMP%]{font-variation-settings:"FILL" 1,"wght" 400,"GRAD" 0,"opsz" 48}.container-fluid[_ngcontent-%COMP%]{max-width:1300px}@media screen and (max-width: 768px){[_ngcontent-%COMP%]:root{--cardFont: 10px}}[_nghost-%COMP%]{font-size:15px}.statge-container[_ngcontent-%COMP%]{display:flex;margin:10px auto auto;gap:5px;overflow:scroll;overflow-y:hidden}.statge[_ngcontent-%COMP%]{height:inherit;min-height:60vh;background-color:var(--bg-overlay);min-width:250px!important;border-radius:10px}.statge[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.2em;font-weight:600}.statge[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]{color:var(--color-primary);width:-moz-fit-content;width:fit-content}.statge[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:.6em;font-weight:500;font-size:.9em}.statge[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.2em;margin-right:.2em;line-height:2em}.statge[_ngcontent-%COMP%]   .drag-box[_ngcontent-%COMP%]:active{cursor:grab!important}.delete-statge[_ngcontent-%COMP%]{width:15em;height:5em;background-color:var(--alert-bg);border:dashed 1px var(--alert-color);position:fixed;inset:auto 5px 5px auto;z-index:999}.delete-statge[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{color:var(--danger-color);height:inherit}.delete-statge[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{width:15em;position:fixed;inset:auto 10px 10px auto;background-color:var(--danger-color)}.crm-slideOnDrag[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;cursor:move}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:10px}.statge-drag-preview[_ngcontent-%COMP%]{box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f;border-radius:10px}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .2s cubic-bezier(0,0,.2,1)}.cdk-drag-animating[_ngcontent-%COMP%]   .statge-drag-preview[_ngcontent-%COMP%]{transform:rotate(0)!important;transition:all .2s cubic-bezier(0,0,.2,1)}.placeholder[_ngcontent-%COMP%]{background:#a5a4a4;border:dotted 3px #747373;width:99%;height:100px;transition:transform .2s cubic-bezier(0,0,.2,1)}.is-dragging[_ngcontent-%COMP%]{cursor:grabbing!important}@media screen and (max-width: 768px){.statge[_ngcontent-%COMP%]{min-width:200px!important}}'],data:{animation:[xn,Pe]}}),n})()}];let Yn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[ke.Bz.forChild(Gn),ke.Bz]}),n})(),Wn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[Yn,vn]}),n})()}}]);